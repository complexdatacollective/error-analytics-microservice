---
title: Troubleshooting
date: 6th March 2024
nav_order: 3
---

## Deployment Build Errors and Fixes

- If you encountered the **"Invalid API key"** error...

  ![Deploy error1](/assets/img/fresco-images/deploy-error2.png)

  It means that you provided an incorrect environment variable. Make sure to enter the environment variable value correctly. You must enter the value that starts after `=` symbol
  (e.g: `UPLOADTHING_APP_ID=5q5ybg9dwg`, here `UPLOADTHING_APP_ID` is the key of variable and `5q5ybg9dwg` is the value. You should always enter the value)

- If you encountered the error below...

  ![Deploy error1](/assets/img/fresco-images/deploy-error1.png)

  It means that you have not entered the correct database connection string and you need to copy it again from your PlanetScale dashboard, see the below instructions for that.

### Get database connection URL from PlanetScale dashboard

1. Go to your dashboard and click on your database.

   ![planetscalse-dashboard1](/assets/img/fresco-images/planetscalse-dashboard1.png)

2. This is the main view to manage your database. Click on the **"Connect"** button on the right corner.

   ![planetscalse-dashboard2](/assets/img/fresco-images/planetscalse-dashboard2.png)

3. Since PlanetScale doesn't reveal your database password for security purposes, you need to create a new username and password for your database to generate a new database connection string. Click on the **"New password"** button for that.

   ![planetscalse-dashboard3](/assets/img/fresco-images/planetscalse-dashboard3.png)

4. Leave everything as default and hit the **"Create password"** button.

   ![planetscalse-dashboard4](/assets/img/fresco-images/planetscalse-dashboard4.png)

5. You will be prompted back to the first view. Choose **"Prisma"** as the framework if you haven't already and hit the copy button on the right corner (save your database string in a safe place and use it to deploy Fresco on Vercel)

   ![planetscalse-dashboard5](/assets/img/fresco-images/planetscalse-dashboard5.png)

> **_NOTE_**: The database connection variable should begin with `mysql://` and look like this: `mysql://username:password@aws.connect.psdb.cloud/database_name?sslaccept=strict`

## Trigger Redeployment on Your App by Resetting Your Database

Since the expiration state is stored in your PlanetScale database, you need to delete that database and create a new one to be able to trigger redeployment of your Fresco app on Vercel.

1. Navigate to your PlanetScale dashboard, select your database to view its details, and then click on the **"Settings"** tab (refer to the screenshot below).

   ![planetscalse-dashboard5](/assets/img/fresco-images/delete-db1.png)

2. On the Settings tab, scroll down to locate the **"Delete database"** button. Follow the provided instructions to delete your database.

   ![planetscalse-dashboard5](/assets/img/fresco-images/delete-db2.png)

3. Once your database is deleted, create a new one and get the connection URL of the database following the instructions on [Step 1](#step-1). (_Start from stage 4 in Step 1._).

4. When you have the connection URL saved, navigate to the dashboard of your deployed Fresco app on Vercel. You can do this by visiting <a href="https://vercel.com/dashboard" target="_blank">vercel.com/dashboard</a> and selecting your project.

5. In your dashboard, navigate to the **"Settings"** tab. Here, update your database connection URL by pasting the new one and save the changes.

   ![planetscalse-dashboard5](/assets/img/fresco-images/redeploy1.png)

6. Now, navigate to the **"Deployments"** tab and redeploy the app from the main branch.

   ![planetscalse-dashboard5](/assets/img/fresco-images/redeploy2.png)

   ![planetscalse-dashboard5](/assets/img/fresco-images/redeploy3.png)

7. After the build process completes, visit your app and proceed to [Create User Account on Your Fresco App](fresco/getting-started/deployment-guide#create-user-account-on-your-fresco-app) once again.
