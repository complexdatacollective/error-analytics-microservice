(()=>{var e={};e.id=931,e.ids=[931],e.modules={10689:(e,t,a)=>{var s={"./af.json":63655,"./am.json":97306,"./ar.json":41823,"./az.json":28912,"./be.json":99100,"./bg.json":80629,"./bn.json":10553,"./br.json":77042,"./bs.json":732,"./ca.json":97083,"./cs.json":41852,"./cy.json":19785,"./da.json":84055,"./de.json":9535,"./dv.json":41081,"./el.json":36688,"./en.json":16767,"./es.json":3656,"./et.json":95752,"./eu.json":33025,"./fa.json":63685,"./fi.json":30065,"./fr.json":53938,"./gl.json":16471,"./ha.json":28055,"./he.json":56232,"./hi.json":4974,"./hr.json":7293,"./hu.json":39316,"./hy.json":80223,"./id.json":34633,"./is.json":7633,"./it.json":15811,"./ja.json":75933,"./ka.json":12467,"./kk.json":76269,"./km.json":58444,"./ko.json":75814,"./ku.json":77913,"./ky.json":62327,"./lt.json":9189,"./lv.json":94269,"./mk.json":20088,"./ml.json":69351,"./mn.json":95527,"./mr.json":28021,"./ms.json":75299,"./nb.json":24459,"./nl.json":21072,"./nn.json":94045,"./no.json":71506,"./pl.json":29999,"./ps.json":17290,"./pt.json":83576,"./ro.json":25135,"./ru.json":25269,"./sd.json":11164,"./sk.json":40277,"./sl.json":93918,"./so.json":41484,"./sq.json":60024,"./sr.json":8190,"./sv.json":35471,"./sw.json":6995,"./ta.json":34961,"./tg.json":25398,"./th.json":46634,"./tr.json":86740,"./tt.json":19222,"./ug.json":3507,"./uk.json":9779,"./ur.json":28155,"./uz.json":74454,"./vi.json":95190,"./zh.json":5267};function webpackContext(e){return a(webpackContextResolve(e))}function webpackContextResolve(e){if(!a.o(s,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}webpackContext.keys=function(){return Object.keys(s)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=10689},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},51247:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=a(78336),r=a(74576),o=a(13382),n=a.n(o),i=a(61368),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);a.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,13361)),"/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,26033))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,842)),"/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,72820,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,26033))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/app/page.tsx"],m="/page",p={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},61405:(e,t,a)=>{Promise.resolve().then(a.bind(a,53796)),Promise.resolve().then(a.bind(a,61093)),Promise.resolve().then(a.bind(a,13395)),Promise.resolve().then(a.bind(a,1802)),Promise.resolve().then(a.bind(a,15615)),Promise.resolve().then(a.bind(a,70230)),Promise.resolve().then(a.bind(a,43640)),Promise.resolve().then(a.bind(a,70320)),Promise.resolve().then(a.bind(a,58510)),Promise.resolve().then(a.bind(a,24460)),Promise.resolve().then(a.bind(a,45172)),Promise.resolve().then(a.bind(a,65995))},53796:(e,t,a)=>{"use strict";a.r(t),a.d(t,{columns:()=>n});var s=a(84306),r=a(18765),o=a(66527);function MetadataDialog({event:e}){return s.jsx(o.Q,{buttonLabel:"Details",title:"Event Details",description:e.type,content:JSON.stringify(e.metadata)})}let n=[{accessorKey:"type",header:({column:e})=>s.jsx(r.p,{column:e,title:"Event"})},{accessorKey:"timestamp",header:({column:e})=>s.jsx(r.p,{column:e,title:"Timestamp"})},{accessorKey:"installationid",header:({column:e})=>s.jsx(r.p,{column:e,title:"Installation Id"})},{accessorKey:"stacktrace",header:"",cell:({row:e})=>s.jsx("div",{className:"min-w-max",children:s.jsx(MetadataDialog,{event:e.original})})}]},61093:(e,t,a)=>{"use strict";a.r(t),a.d(t,{columns:()=>s});let s=[{accessorKey:"country",header:"Country"},{accessorKey:"total",header:"Total"}]},13395:(e,t,a)=>{"use strict";a.r(t),a.d(t,{columns:()=>n});var s=a(84306),r=a(18765),o=a(66527);function StackTraceDialog({error:e}){return s.jsx(o.Q,{buttonLabel:"Stack Trace",title:"Stack Trace",description:e.message,content:e.stacktrace})}let n=[{accessorKey:"message",header:({column:e})=>s.jsx(r.p,{column:e,title:"Message"})},{accessorKey:"details",header:({column:e})=>s.jsx(r.p,{column:e,title:"Details"})},{accessorKey:"path",header:({column:e})=>s.jsx(r.p,{column:e,title:"Path"})},{accessorKey:"installationid",header:({column:e})=>s.jsx(r.p,{column:e,title:"Installation Id"})},{accessorKey:"timestamp",header:({column:e})=>s.jsx(r.p,{column:e,title:"Timestamp"})},{accessorKey:"stacktrace",header:"",cell:({row:e})=>s.jsx("div",{className:"min-w-max",children:s.jsx(StackTraceDialog,{error:e.original})})}]},1802:(e,t,a)=>{"use strict";a.r(t),a.d(t,{columns:()=>l});var s=a(84306),r=a(70112),o=a(30152),n=a(83685);let i=r.forwardRef(({className:e,...t},a)=>s.jsx(o.fC,{className:(0,n.cn)("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:a,children:s.jsx(o.bU,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));function VerifyUserSwitch({id:e,verified:t}){let[a,o]=(0,r.useState)(t),updateMetadata=async()=>{try{let t=await fetch("/api/clerk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,verified:!a})});t.ok||(o(!a),console.error("Database update failed."))}catch(e){console.error("Error updating database:",e)}},handleToggle=async()=>{o(!a),updateMetadata()};return s.jsx(i,{checked:a,onCheckedChange:handleToggle})}i.displayName=o.fC.displayName;let l=[{accessorKey:"user",header:"User",cell:({row:e})=>(0,s.jsxs)("div",{className:e.original.verified?"":"text-muted-foreground",children:[s.jsx("div",{className:"font-bold text-md",children:e.original.fullName}),s.jsx("div",{className:"text-sm text-gray-500",children:e.original.username})]})},{accessorKey:"verified",header:"Verified",cell:({row:e})=>s.jsx(VerifyUserSwitch,{id:e.original.id,verified:e.original.verified})}]},18765:(e,t,a)=>{"use strict";a.d(t,{p:()=>DataTableColumnHeader});var s=a(84306),r=a(23331),o=a(47786),n=a(81634),i=a(64357),l=a(70112),c=a(33017),d=a(82546),m=a(77464),p=a(22265),u=a(83685);let x=c.fC,f=c.xz;c.ZA,c.Uv,c.Tr,c.Ee;let g=l.forwardRef(({className:e,inset:t,children:a,...r},o)=>(0,s.jsxs)(c.fF,{ref:o,className:(0,u.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[a,s.jsx(d.Z,{className:"ml-auto h-4 w-4"})]}));g.displayName=c.fF.displayName;let h=l.forwardRef(({className:e,...t},a)=>s.jsx(c.tu,{ref:a,className:(0,u.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));h.displayName=c.tu.displayName;let y=l.forwardRef(({className:e,sideOffset:t=4,...a},r)=>s.jsx(c.Uv,{children:s.jsx(c.VY,{ref:r,sideOffset:t,className:(0,u.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));y.displayName=c.VY.displayName;let v=l.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(c.ck,{ref:r,className:(0,u.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a}));v.displayName=c.ck.displayName;let b=l.forwardRef(({className:e,children:t,checked:a,...r},o)=>(0,s.jsxs)(c.oC,{ref:o,className:(0,u.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(c.wU,{children:s.jsx(m.Z,{className:"h-4 w-4"})})}),t]}));b.displayName=c.oC.displayName;let j=l.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(c.Rk,{ref:r,className:(0,u.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(c.wU,{children:s.jsx(p.Z,{className:"h-2 w-2 fill-current"})})}),t]}));j.displayName=c.Rk.displayName;let w=l.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(c.__,{ref:r,className:(0,u.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a}));w.displayName=c.__.displayName;let N=l.forwardRef(({className:e,...t},a)=>s.jsx(c.Z0,{ref:a,className:(0,u.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));function DataTableColumnHeader({column:e,title:t,className:a}){return e.getCanSort()?s.jsx("div",{className:(0,u.cn)("flex items-center space-x-2",a),children:(0,s.jsxs)(x,{children:[s.jsx(f,{asChild:!0,children:(0,s.jsxs)(i.z,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[s.jsx("span",{children:t}),"desc"===e.getIsSorted()?s.jsx(r.Z,{className:"ml-2 h-4 w-4 text-emerald-500"}):"asc"===e.getIsSorted()?s.jsx(o.Z,{className:"ml-2 h-4 w-4 text-emerald-500"}):s.jsx(n.Z,{className:"w-4t ml-2 h-4"})]})}),(0,s.jsxs)(y,{align:"start",children:[(0,s.jsxs)(v,{onClick:()=>e.toggleSorting(!1),children:[s.jsx(o.Z,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),(0,s.jsxs)(v,{onClick:()=>e.toggleSorting(!0),children:[s.jsx(r.Z,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]})]})]})}):s.jsx("div",{className:(0,u.cn)(a),children:t})}N.displayName=c.Z0.displayName},15615:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DataTable:()=>DataTable});var s=a(84306),r=a(75506),o=a(97257),n=a(70112),i=a(83685);let l=n.forwardRef(({className:e,...t},a)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:a,className:(0,i.cn)("w-full caption-bottom text-sm",e),...t})}));l.displayName="Table";let c=n.forwardRef(({className:e,...t},a)=>s.jsx("thead",{ref:a,className:(0,i.cn)("[&_tr]:border-b",e),...t}));c.displayName="TableHeader";let d=n.forwardRef(({className:e,...t},a)=>s.jsx("tbody",{ref:a,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...t}));d.displayName="TableBody";let m=n.forwardRef(({className:e,...t},a)=>s.jsx("tfoot",{ref:a,className:(0,i.cn)("bg-primary font-medium text-primary-foreground",e),...t}));m.displayName="TableFooter";let p=n.forwardRef(({className:e,...t},a)=>s.jsx("tr",{ref:a,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));p.displayName="TableRow";let u=n.forwardRef(({className:e,...t},a)=>s.jsx("th",{ref:a,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableHead";let x=n.forwardRef(({className:e,...t},a)=>s.jsx("td",{ref:a,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));x.displayName="TableCell";let f=n.forwardRef(({className:e,...t},a)=>s.jsx("caption",{ref:a,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...t}));f.displayName="TableCaption";var g=a(1326),h=a(68824),y=a(82546),v=a(36322),b=a(64357),j=a(1504),w=a(30310),N=a(77464);let C=j.fC;j.ZA;let k=j.B4,T=n.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(j.xz,{ref:r,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:[t,s.jsx(j.JO,{asChild:!0,children:s.jsx(w.Z,{className:"h-4 w-4 opacity-50"})})]}));T.displayName=j.xz.displayName;let P=n.forwardRef(({className:e,children:t,position:a="popper",...r},o)=>s.jsx(j.h_,{children:s.jsx(j.VY,{ref:o,className:(0,i.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:s.jsx(j.l_,{className:(0,i.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));P.displayName=j.VY.displayName;let _=n.forwardRef(({className:e,...t},a)=>s.jsx(j.__,{ref:a,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));_.displayName=j.__.displayName;let S=n.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(j.ck,{ref:r,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(j.wU,{children:s.jsx(N.Z,{className:"h-4 w-4"})})}),s.jsx(j.eT,{children:t})]}));S.displayName=j.ck.displayName;let D=n.forwardRef(({className:e,...t},a)=>s.jsx(j.Z0,{ref:a,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));function DataTablePagination({table:e}){return(0,s.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,s.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[e.getFilteredSelectedRowModel().rows.length," of"," ",e.getFilteredRowModel().rows.length," row(s) selected."]}),(0,s.jsxs)("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),(0,s.jsxs)(C,{value:`${e.getState().pagination.pageSize}`,onValueChange:t=>{e.setPageSize(Number(t))},children:[s.jsx(T,{className:"h-8 w-[70px]",children:s.jsx(k,{placeholder:e.getState().pagination.pageSize})}),s.jsx(P,{side:"top",children:[10,20,30,40,50].map(e=>s.jsx(S,{value:`${e}`,children:e},e))})]})]}),(0,s.jsxs)("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",e.getState().pagination.pageIndex+1," of"," ",e.getPageCount()]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(b.z,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),children:[s.jsx("span",{className:"sr-only",children:"Go to first page"}),s.jsx(g.Z,{className:"h-4 w-4"})]}),(0,s.jsxs)(b.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),children:[s.jsx("span",{className:"sr-only",children:"Go to previous page"}),s.jsx(h.Z,{className:"h-4 w-4"})]}),(0,s.jsxs)(b.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),children:[s.jsx("span",{className:"sr-only",children:"Go to next page"}),s.jsx(y.Z,{className:"h-4 w-4"})]}),(0,s.jsxs)(b.z,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),children:[s.jsx("span",{className:"sr-only",children:"Go to last page"}),s.jsx(v.Z,{className:"h-4 w-4"})]})]})]})]})}function DataTable({columns:e,data:t,pagination:a}){let[i,m]=(0,n.useState)([]),f=(0,r.b7)({data:t,columns:e,getCoreRowModel:(0,o.sC)(),getPaginationRowModel:(0,o.G_)(),onSortingChange:m,getSortedRowModel:(0,o.tj)(),state:{sorting:i}});return(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-md border",children:(0,s.jsxs)(l,{children:[s.jsx(c,{children:f.getHeaderGroups().map(e=>s.jsx(p,{children:e.headers.map(e=>s.jsx(u,{children:e.isPlaceholder?null:(0,r.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),s.jsx(d,{children:f.getRowModel().rows?.length?f.getRowModel().rows.map(e=>s.jsx(p,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>s.jsx(x,{children:(0,r.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):s.jsx(p,{children:s.jsx(x,{colSpan:e.length,className:"h-24 text-center",children:"No results."})})})]})}),a&&s.jsx(DataTablePagination,{table:f})]})}D.displayName=j.Z0.displayName},66527:(e,t,a)=>{"use strict";a.d(t,{Q:()=>DialogButton});var s=a(84306);a(70112);var r=a(64357),o=a(43640);function DialogButton({buttonLabel:e,title:t,description:a,content:n}){return(0,s.jsxs)(o.Dialog,{children:[s.jsx(o.DialogTrigger,{asChild:!0,children:s.jsx(r.z,{variant:"outline",children:e})}),(0,s.jsxs)(o.DialogContent,{children:[s.jsx(o.DialogHeader,{children:s.jsx(o.DialogTitle,{children:t})}),s.jsx(o.DialogDescription,{children:a}),s.jsx("div",{className:"bg-secondary p-2 rounded-sm break-all",children:n})]})]})}},70230:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(84306),r=a(77582),o=a.n(r),n=a(64357);let __WEBPACK_DEFAULT_EXPORT__=({data:e,filename:t})=>s.jsx(n.z,{onClick:()=>{let a=o().unparse(e),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");if(void 0!==r.download){let e=URL.createObjectURL(s);r.setAttribute("href",e),r.setAttribute("download",t),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},children:"Export CSV"})},64357:(e,t,a)=>{"use strict";a.d(t,{z:()=>c});var s=a(84306),r=a(70112),o=a(98506),n=a(27218),i=a(83685);let l=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...n},c)=>{let d=r?o.g7:"button";return s.jsx(d,{className:(0,i.cn)(l({variant:t,size:a,className:e})),ref:c,...n})});c.displayName="Button"},43640:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Dialog:()=>l,DialogClose:()=>m,DialogContent:()=>u,DialogDescription:()=>f,DialogFooter:()=>DialogFooter,DialogHeader:()=>DialogHeader,DialogOverlay:()=>p,DialogPortal:()=>d,DialogTitle:()=>x,DialogTrigger:()=>c});var s=a(84306),r=a(70112),o=a(43844),n=a(89602),i=a(83685);let l=o.fC,c=o.xz,d=o.h_,m=o.x8,p=r.forwardRef(({className:e,...t},a)=>s.jsx(o.aV,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));p.displayName=o.aV.displayName;let u=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(d,{children:[s.jsx(p,{}),(0,s.jsxs)(o.VY,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...a,children:[t,(0,s.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(n.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=o.VY.displayName;let DialogHeader=({className:e,...t})=>s.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});DialogHeader.displayName="DialogHeader";let DialogFooter=({className:e,...t})=>s.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});DialogFooter.displayName="DialogFooter";let x=r.forwardRef(({className:e,...t},a)=>s.jsx(o.Dx,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));x.displayName=o.Dx.displayName;let f=r.forwardRef(({className:e,...t},a)=>s.jsx(o.dk,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));f.displayName=o.dk.displayName},70320:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Tabs:()=>i,TabsContent:()=>d,TabsList:()=>l,TabsTrigger:()=>c});var s=a(84306),r=a(70112),o=a(32611),n=a(83685);let i=o.fC,l=r.forwardRef(({className:e,...t},a)=>s.jsx(o.aV,{ref:a,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));l.displayName=o.aV.displayName;let c=r.forwardRef(({className:e,...t},a)=>s.jsx(o.xz,{ref:a,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));c.displayName=o.xz.displayName;let d=r.forwardRef(({className:e,...t},a)=>s.jsx(o.VY,{ref:a,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));d.displayName=o.VY.displayName},83685:(e,t,a)=>{"use strict";a.d(t,{cn:()=>cn});var s=a(40770),r=a(50454);function cn(...e){return(0,r.m6)((0,s.W)(e))}},13361:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>DashboardPage});var s=a(44440),r=a(84535);let o=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/tabs.tsx`),{__esModule:n,$$typeof:i}=o;o.default;let l=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/tabs.tsx#Tabs`),c=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/tabs.tsx#TabsList`),d=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/tabs.tsx#TabsTrigger`),m=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/tabs.tsx#TabsContent`);var p=a(82667),u=a(60387),x=a(80682);function cn(...e){return(0,x.m6)((0,u.W)(e))}let f=p.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));f.displayName="Card";let g=p.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:cn("flex flex-col space-y-1.5 p-6",e),...t}));g.displayName="CardHeader";let h=p.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:cn("text-2xl font-semibold leading-none tracking-tight",e),...t}));h.displayName="CardTitle";let y=p.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:cn("text-sm text-muted-foreground",e),...t}));y.displayName="CardDescription";let v=p.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:cn("p-6 pt-0",e),...t}));v.displayName="CardContent";let b=p.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:cn("flex items-center p-6 pt-0",e),...t}));b.displayName="CardFooter";let j=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/DataTable/data-table.tsx`),{__esModule:w,$$typeof:N}=j;j.default;let C=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/DataTable/data-table.tsx#DataTable`);var k=a(67492);async function getEvents(){let e=await k.i6`SELECT * FROM Events ;`;return e.rows}let T=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/app/_components/analytics/EventsTable/Columns.tsx`),{__esModule:P,$$typeof:_}=T;T.default;let S=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/app/_components/analytics/EventsTable/Columns.tsx#columns`),D=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ExportButton.tsx`),{__esModule:R,$$typeof:E}=D,U=D.default;async function EventsTable(){let e=await getEvents();return(0,s.jsxs)(f,{children:[s.jsx(g,{children:"Events"}),(0,s.jsxs)(v,{children:[s.jsx(U,{data:e,filename:"events.csv"}),s.jsx("div",{className:"mt-4",children:s.jsx(C,{columns:S,data:e,pagination:!0})})]})]})}let getTotalAppsSetup=async()=>{let e=await getEvents(),t=e.reduce((e,t)=>"AppSetup"===t.type?e+1:e,0);return t},SummaryCard=({title:e,value:t,description:a})=>(0,s.jsxs)(f,{children:[s.jsx(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:s.jsx(h,{className:"text-sm font-medium",children:e})}),(0,s.jsxs)(v,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t}),a&&s.jsx("p",{className:"text-xs text-muted-foreground",children:a})]})]}),TotalAppsCard=async()=>{let e=await getTotalAppsSetup();return s.jsx(SummaryCard,{title:"Apps Setup",value:e,description:"Total apps setup across all instances of Fresco"})},getTotalInterviewsCompleted=async()=>{let e=await getEvents(),t=e.reduce((e,t)=>"InterviewCompleted"===t.type?e+1:e,0);return t},TotalInterviewsCompletedCard_TotalAppsCard=async()=>{let e=await getTotalInterviewsCompleted();return s.jsx(SummaryCard,{title:"Interviews Completed",value:e,description:"Total interviews completed across all instances of Fresco"})},getTotalInterviewsStarted=async()=>{let e=await getEvents(),t=e.reduce((e,t)=>"InterviewStarted"===t.type?e+1:e,0);return t},TotalInterviewsStartedCard=async()=>{let e=await getTotalInterviewsStarted();return s.jsx(SummaryCard,{title:"Interviews Started",value:e,description:"Total interviews started across all instances of Fresco"})},getTotalProtocolsInstalled=async()=>{let e=await getEvents(),t=e.reduce((e,t)=>"ProtocolInstalled"===t.type?e+1:e,0);return t},TotalProtocolsInstalledCard=async()=>{let e=await getTotalProtocolsInstalled();return s.jsx(SummaryCard,{title:"Protocols Installed",value:e,description:"Total protocols installed across all instances of Fresco"})};async function getRegionsTotals(){let e=await getEvents();var t=a(1366);let s={};for(let t of e){let e=t.isocode;e&&(s[e]=(s[e]||0)+1)}let r=[];for(let e in s)r.push({country:t.getName(e,"en"),total:s[e]||0});return r.sort((e,t)=>t.total-e.total),r}let z=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/app/_components/analytics/RegionsTable/Columns.tsx`),{__esModule:q,$$typeof:M}=z;z.default;let I=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/app/_components/analytics/RegionsTable/Columns.tsx#columns`);async function ErrorsTable(){let e=await getRegionsTotals();return s.jsx(C,{columns:I,data:e,pagination:!0})}function AnalyticsView(){return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(TotalAppsCard,{}),s.jsx(TotalProtocolsInstalledCard,{}),s.jsx(TotalInterviewsStartedCard,{}),s.jsx(TotalInterviewsCompletedCard_TotalAppsCard,{})]}),(0,s.jsxs)("div",{className:"grid gap-4 grid-cols-2",children:[s.jsx(EventsTable,{}),(0,s.jsxs)(f,{children:[s.jsx(g,{children:"Regions"}),s.jsx(v,{children:s.jsx(ErrorsTable,{})})]})]})]})}async function getErrors(){let e=await k.i6`SELECT * FROM Errors ;`;return e.rows}let A=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/app/_components/errors/ErrorsTable/Columns.tsx`),{__esModule:V,$$typeof:F}=A;A.default;let Z=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/app/_components/errors/ErrorsTable/Columns.tsx#columns`);async function ErrorsTable_ErrorsTable(){let e=await getErrors();return(0,s.jsxs)(s.Fragment,{children:[s.jsx(U,{data:e,filename:"errors.csv"}),s.jsx(C,{columns:Z,data:e,pagination:!0})]})}let TotalErrorsCard=async()=>{let e=await getErrors(),t=e.length;return s.jsx(SummaryCard,{title:"Number of Errors",value:t})};function ErrorsView(){return(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:s.jsx(TotalErrorsCard,{})}),s.jsx(ErrorsTable_ErrorsTable,{})]})}var O=a(55877),K=a(45521),$=a(34087);let L=(0,$.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=p.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...o},n)=>{let i=r?K.g7:"button";return s.jsx(i,{className:cn(L({variant:t,size:a,className:e})),ref:n,...o})});H.displayName="Button";let B=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/dialog.tsx`),{__esModule:G,$$typeof:Y}=B;B.default;let W=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/dialog.tsx#Dialog`);(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/dialog.tsx#DialogPortal`),(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/dialog.tsx#DialogOverlay`),(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/dialog.tsx#DialogClose`);let X=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/dialog.tsx#DialogTrigger`),J=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/dialog.tsx#DialogContent`),Q=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/dialog.tsx#DialogHeader`);(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/dialog.tsx#DialogFooter`);let ee=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/dialog.tsx#DialogTitle`),et=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/components/ui/dialog.tsx#DialogDescription`);var ea=a(68718);let es=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/app/_components/users/UsersTable/Columns.tsx`),{__esModule:er,$$typeof:eo}=es;es.default;let en=(0,r.createProxy)(String.raw`/Users/buckhalt/Code/complexdatacollective/error-analytics-microservice/apps/analytics/app/_components/users/UsersTable/Columns.tsx#columns`);var ei=a(45767);async function VerifiedUsersTable(){let e=await ei.Ns.users.getUserList(),t=e.map(e=>({id:e.id,fullName:e.firstName+" "+e.lastName,username:e.username,verified:e.publicMetadata.verified}));return s.jsx(C,{columns:en,data:t})}function UserManagementDialog(){return(0,s.jsxs)(W,{children:[s.jsx(X,{asChild:!0,children:s.jsx(H,{variant:"ghost",size:"icon",className:"mr-4",children:s.jsx(ea.Z,{})})}),(0,s.jsxs)(J,{children:[s.jsx(Q,{children:s.jsx(ee,{children:"User Management"})}),s.jsx(et,{children:"View and manage verified users"}),s.jsx(VerifiedUsersTable,{})]})]})}function DashboardPage(){return s.jsx("main",{children:(0,s.jsxs)("div",{className:"p-12 space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between",children:[s.jsx("h2",{className:"text-3xl font-bold flex flex-row",children:"Dashboard"}),(0,s.jsxs)("div",{className:"flex flex-row",children:[s.jsx(UserManagementDialog,{}),s.jsx(O.l8,{afterSignOutUrl:"/"})]})]}),(0,s.jsxs)(l,{defaultValue:"analytics",className:"space-y-4",children:[(0,s.jsxs)(c,{children:[s.jsx(d,{value:"analytics",children:"Analytics"}),s.jsx(d,{value:"errors",children:"Errors"})]}),s.jsx(m,{value:"analytics",children:s.jsx(AnalyticsView,{})}),s.jsx(m,{value:"errors",children:s.jsx(ErrorsView,{})})]})]})})}},26033:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(28170);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,s.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[818,999,15,804,40],()=>__webpack_exec__(51247));module.exports=a})();